---
title: "Side-by-Side Box Plot"
date: "February 27, 2025"
output:
  xaringan::moon_reader:
    css: "myCSS.css"
    chakra: "remark-latest.min.js"
    self_contained: true
    nature:
      countIncrementalSlides: false
---

### Summary by Groups 

--

**Numeric Summary of One Quantitative by A Categorical Variable**

--

Consider the data frame **CO2** 

--

> Open R Gui. In Console type: *library(Rcmdr)*

> Click on Data > Data in packages > Read data from an attached package > Enter name of data set: **CO2**  

> Click on "View data set" to display the data table. *(optional)*

--

Summarize the variable "carbon dioxide uptake rate": **uptake**.

--

> Statistics > Summaries > Numerical summaries > Select variable: uptake > OK

--

```{r comment=NA, echo=F}

summary(CO2$uptake)

```

---

Next, summarize the variable **uptake** by each category in **Treatment**.

--

> Statistics > Summaries > Numerical summaries > Select variable "uptake" 

> Summarize by groups > Select the variable "Treatment" > OK > OK

--

```{r comment=NA, echo=F}

tapply(CO2$uptake, CO2$Treatment, summary)

```

--

This exercise shows the steps to summarize any quantitative variable by groups of a categorical.


- On average, the carbon dioxide uptake rate is about 31 $\mu mol/m^2$ in  nonchilled treatment. This rate is almost 10 $\mu mol/m^2$ greater than the chilled condition.


- However, there is evidence of different  variability in the carbon dioxide uptake rates in both conditions. Chilled treatment is twice as large as the nonchilled.


---

### The Side-by-Side Box plot 

--

For a quantitative variable, the side-by-side boxplot compares the box plots for each level in a categorical.

--

For example, consider the side-by-side boxplot of carbon dioxide uptake rates by treatments.

> Graphs > Boxplots > Select variable: uptake 

> Click on Plot by groups > Select: Treatment > OK > OK

---

```{r comment=NA, echo=FALSE, fig.align='center'}

boxplot(uptake ~ Treatment, data = CO2)

```

---

You can add axis labels and plot title in the OPTIONS tab before displaying the charts.

--


```{r comment=NA, echo=F, fig.align='center'}

boxplot(uptake ~ Treatment, data = CO2, 
        xlab = "Temperature", 
        ylab = "micro mol/m^2", 
        main = "Side-by-Side Boxplot: Uptake vs Treatment", col="red")

```

---

### Converting a Numeric to Factor 

--

Consider the classification of cars according to number of cylinders in the data frame **mtcars**. Are cars fuel efficiency affected by the number of cylinders?

--

Before summarizing the quantitative variable **mpg** by **cyl**, we need to make **cyl**, number of cylinders, a "factor" class, *(categorical in R)*.

--

> Open R GUI and open the **mtcars** variables following the steps described previously.

> Once *mtcars* is active, click on DATA > Manage variables in active data set > Convert numeric variables in factors

> Select the variable **cyl**. Define the New Variable: **cyl_2**. *(This name is optional)*.

> Insert the Label Names. For example, in 4, you may type "Four Cylinders". Type "Six Cylinders"  and "Eight Cylinders" for the others > OK

--

Once we create the categorical version of *cyl*, compute the summary and side-by-side boxplot.

---

```{r comment=NA, echo=F}

# Make a copy of cylinder as factor class
cyl_2 <- factor(mtcars$cyl, labels=c("Four cylinders", "Six cylinders", "Eight cylinders"))

tapply(mtcars$mpg, cyl_2, summary)

```

---


```{r comment=NA, echo=F, fig.align='center'}

boxplot(mtcars$mpg ~ cyl_2, xlab="Number of cylinders", ylab="Fuel Efficiency (mpg)")

```


---

**Some Observations:**

- By comparing the median, the side-by-side box plots suggest that cars' fuel efficiency decreases with larger number of cylinders.


- Four-cylinder cars have the largest mpg variation (IQR).


- There is one car with the poorest fuel efficiency. Even among the eight-cylinder cars, its performance is very unusual.



